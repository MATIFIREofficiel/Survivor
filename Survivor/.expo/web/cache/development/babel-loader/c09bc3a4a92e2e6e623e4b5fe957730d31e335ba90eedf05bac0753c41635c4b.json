{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState, useRef, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport axios from \"axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction login_request(email, password, _ref) {\n  var setIsSignedIn = _ref.setIsSignedIn,\n    setApiUser = _ref.setApiUser;\n  var url = 'https://masurao.fr/api/employees/login';\n  var headers = {\n    'accept': 'application/json',\n    'X-Group-Authorization': 'AhSyHQjIpPhIvfI5OU8HHe9nyhPKwY-q',\n    'Content-Type': 'application/json'\n  };\n  var data = {\n    email: email,\n    password: password\n  };\n  axios.post(url, data, {\n    headers: headers\n  }).then(function (response) {\n    console.log('Réponse de l\\'API:', response.data);\n    console.log(response.status);\n    if (response.status === 200) {\n      setApiUser(response.data);\n      setIsSignedIn(true);\n    }\n  }).catch(function (error) {\n    console.error('Erreur lors de la requête à l\\'API:', error);\n  });\n}\nexport default function LoginPage(_ref2) {\n  var setIsSignedIn = _ref2.setIsSignedIn,\n    setApiUser = _ref2.setApiUser;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    errorMessage = _useState6[0],\n    setErrorMessage = _useState6[1];\n  var handleLoginPress = function handleLoginPress() {\n    console.log(\"Email:\", email);\n    console.log(\"Password:\", password);\n    login_request(email, password, {\n      setIsSignedIn: setIsSignedIn,\n      setApiUser: setApiUser\n    });\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(StatusBar, {\n      style: \"auto\"\n    }), _jsx(View, {\n      style: styles.inputView,\n      children: _jsx(TextInput, {\n        style: styles.TextInput,\n        placeholder: \"Email.\",\n        placeholderTextColor: \"#003f5c\",\n        value: email,\n        onChangeText: setEmail\n      })\n    }), _jsx(View, {\n      style: styles.inputView,\n      children: _jsx(TextInput, {\n        style: styles.TextInput,\n        placeholder: \"Password.\",\n        placeholderTextColor: \"#003f5c\",\n        secureTextEntry: true,\n        value: password,\n        onChangeText: setPassword\n      })\n    }), _jsx(TouchableOpacity, {\n      children: _jsx(Text, {\n        style: styles.forgot_button,\n        children: \"Forgot password?\"\n      })\n    }), errorMessage && _jsx(Text, {\n      style: {\n        color: 'red'\n      },\n      children: errorMessage\n    }), _jsx(TouchableOpacity, {\n      style: styles.login,\n      onPress: handleLoginPress,\n      children: _jsx(Text, {\n        style: styles.loginText,\n        children: \"LOGIN\"\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  loginLogo: {\n    marginBottom: 40\n  },\n  inputView: {\n    backgroundColor: 'white',\n    borderRadius: 30,\n    borderColor: '#6F9EEB',\n    borderWidth: 1,\n    width: \"70%\",\n    height: 45,\n    marginBottom: 20,\n    alignItems: \"center\"\n  },\n  TextInput: {\n    height: 50,\n    flex: 1,\n    padding: 10,\n    marginLeft: 10\n  },\n  forgot_button: {\n    height: 30,\n    marginBottom: 20\n  },\n  login: {\n    width: \"80%\",\n    borderRadius: 25,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 40,\n    backgroundColor: \"#6F9EEB\"\n  },\n  rectangle: {\n    position: 'absolute',\n    width: \"85%\",\n    height: \"85%\",\n    backgroundColor: 'rgba(211, 211, 211, 1)',\n    borderRadius: 10\n  }\n});","map":{"version":3,"names":["StatusBar","React","useState","useRef","useEffect","StyleSheet","Text","View","Image","TextInput","TouchableOpacity","axios","jsx","_jsx","jsxs","_jsxs","login_request","email","password","_ref","setIsSignedIn","setApiUser","url","headers","data","post","then","response","console","log","status","catch","error","LoginPage","_ref2","_useState","_useState2","_slicedToArray","setEmail","_useState3","_useState4","setPassword","_useState5","_useState6","errorMessage","setErrorMessage","handleLoginPress","style","styles","container","children","inputView","placeholder","placeholderTextColor","value","onChangeText","secureTextEntry","forgot_button","color","login","onPress","loginText","create","flex","backgroundColor","alignItems","justifyContent","loginLogo","marginBottom","borderRadius","borderColor","borderWidth","width","height","padding","marginLeft","marginTop","rectangle","position"],"sources":["/home/matthias/Bureau/TEK3/Survivor/Survivor/Pages/LoginPage.js"],"sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport React, { useState, useRef, useEffect } from 'react';\nimport {\n    StyleSheet,\n    Text,\n    View,\n    Image,\n    TextInput,\n    TouchableOpacity,\n} from 'react-native';\nimport axios from \"axios\";\n\nfunction login_request(email, password, { setIsSignedIn, setApiUser })\n{\n    const url = 'https://masurao.fr/api/employees/login';\n    const headers = {\n        'accept': 'application/json',\n        'X-Group-Authorization': 'AhSyHQjIpPhIvfI5OU8HHe9nyhPKwY-q',\n        'Content-Type': 'application/json',\n    };\n    const data = {\n        email: email,\n        password: password,\n    };\n\n    axios.post(url, data, { headers })\n    .then((response) => {\n        console.log('Réponse de l\\'API:', response.data);\n        console.log(response.status);\n        if (response.status === 200) {\n            setApiUser(response.data);\n            setIsSignedIn(true);\n        }\n    })\n    .catch((error) => {\n        console.error('Erreur lors de la requête à l\\'API:', error);\n    });\n}\n\nexport default function LoginPage({ setIsSignedIn, setApiUser })\n{\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [errorMessage, setErrorMessage] = useState(null);\n\n    const handleLoginPress = () => {\n        console.log(\"Email:\", email);\n        console.log(\"Password:\", password);\n        login_request(email, password, {setIsSignedIn, setApiUser});\n        setEmail(\"\");\n        setPassword(\"\");\n    };\n\n    return (\n        <View style={styles.container}>\n\n        <StatusBar style=\"auto\" />\n        <View style={styles.inputView}>\n            <TextInput\n            style={styles.TextInput}\n            placeholder=\"Email.\"\n            placeholderTextColor=\"#003f5c\"\n            value={email}\n            onChangeText={setEmail}\n            />\n        </View>\n        <View style={styles.inputView}>\n            <TextInput\n            style={styles.TextInput}\n            placeholder=\"Password.\"\n            placeholderTextColor=\"#003f5c\"\n            secureTextEntry={true}\n            value={password}\n            onChangeText={setPassword}\n            />\n        </View>\n        <TouchableOpacity>\n            <Text style={styles.forgot_button}>Forgot password?</Text>\n        </TouchableOpacity>\n        {errorMessage && <Text style={{ color: 'red' }}>{errorMessage}</Text>}\n        <TouchableOpacity style={styles.login} onPress={handleLoginPress}>\n            <Text style={styles.loginText}>LOGIN</Text>\n        </TouchableOpacity>\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: '#f5f5f5',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    loginLogo: {\n        marginBottom: 40,\n    },\n    inputView: {\n        backgroundColor: 'white',\n        borderRadius: 30,\n        borderColor: '#6F9EEB',\n        borderWidth: 1,\n        width: \"70%\",\n        height: 45,\n        marginBottom: 20,\n        alignItems: \"center\",\n    },\n    TextInput: {\n        height: 50,\n        flex: 1,\n        padding: 10,\n        marginLeft: 10,\n    },\n    forgot_button: {\n        height: 30,\n        marginBottom: 20,\n    },\n    login: {\n        width:\"80%\",\n        borderRadius: 25,\n        height: 50,\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        marginTop: 40,\n        backgroundColor: \"#6F9EEB\",\n    },\n    rectangle: {\n        position: 'absolute',\n        width: \"85%\",\n        height: \"85%\",\n        backgroundColor: 'rgba(211, 211, 211, 1)',\n        borderRadius: 10,\n    },\n});\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,UAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,gBAAA;AAS3D,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE1B,SAASC,aAAaA,CAACC,KAAK,EAAEC,QAAQ,EAAAC,IAAA,EACtC;EAAA,IAD0CC,aAAa,GAAAD,IAAA,CAAbC,aAAa;IAAEC,UAAU,GAAAF,IAAA,CAAVE,UAAU;EAE/D,IAAMC,GAAG,GAAG,wCAAwC;EACpD,IAAMC,OAAO,GAAG;IACZ,QAAQ,EAAE,kBAAkB;IAC5B,uBAAuB,EAAE,kCAAkC;IAC3D,cAAc,EAAE;EACpB,CAAC;EACD,IAAMC,IAAI,GAAG;IACTP,KAAK,EAAEA,KAAK;IACZC,QAAQ,EAAEA;EACd,CAAC;EAEDP,KAAK,CAACc,IAAI,CAACH,GAAG,EAAEE,IAAI,EAAE;IAAED,OAAO,EAAPA;EAAQ,CAAC,CAAC,CACjCG,IAAI,CAAC,UAACC,QAAQ,EAAK;IAChBC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,QAAQ,CAACH,IAAI,CAAC;IAChDI,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,MAAM,CAAC;IAC5B,IAAIH,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;MACzBT,UAAU,CAACM,QAAQ,CAACH,IAAI,CAAC;MACzBJ,aAAa,CAAC,IAAI,CAAC;IACvB;EACJ,CAAC,CAAC,CACDW,KAAK,CAAC,UAACC,KAAK,EAAK;IACdJ,OAAO,CAACI,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;EAC/D,CAAC,CAAC;AACN;AAEA,eAAe,SAASC,SAASA,CAAAC,KAAA,EACjC;EAAA,IADoCd,aAAa,GAAAc,KAAA,CAAbd,aAAa;IAAEC,UAAU,GAAAa,KAAA,CAAVb,UAAU;EAEzD,IAAAc,SAAA,GAA0BjC,QAAQ,CAAC,EAAE,CAAC;IAAAkC,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BlB,KAAK,GAAAmB,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAAG,UAAA,GAAgCrC,QAAQ,CAAC,EAAE,CAAC;IAAAsC,UAAA,GAAAH,cAAA,CAAAE,UAAA;IAArCrB,QAAQ,GAAAsB,UAAA;IAAEC,WAAW,GAAAD,UAAA;EAC5B,IAAAE,UAAA,GAAwCxC,QAAQ,CAAC,IAAI,CAAC;IAAAyC,UAAA,GAAAN,cAAA,CAAAK,UAAA;IAA/CE,YAAY,GAAAD,UAAA;IAAEE,eAAe,GAAAF,UAAA;EAEpC,IAAMG,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAS;IAC3BlB,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEZ,KAAK,CAAC;IAC5BW,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEX,QAAQ,CAAC;IAClCF,aAAa,CAACC,KAAK,EAAEC,QAAQ,EAAE;MAACE,aAAa,EAAbA,aAAa;MAAEC,UAAU,EAAVA;IAAU,CAAC,CAAC;IAC3DiB,QAAQ,CAAC,EAAE,CAAC;IACZG,WAAW,CAAC,EAAE,CAAC;EACnB,CAAC;EAED,OACI1B,KAAA,CAACR,IAAI;IAACwC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAE9BrC,IAAA,CAACb,SAAS;MAAC+C,KAAK,EAAC;IAAM,CAAE,CAAC,EAC1BlC,IAAA,CAACN,IAAI;MAACwC,KAAK,EAAEC,MAAM,CAACG,SAAU;MAAAD,QAAA,EAC1BrC,IAAA,CAACJ,SAAS;QACVsC,KAAK,EAAEC,MAAM,CAACvC,SAAU;QACxB2C,WAAW,EAAC,QAAQ;QACpBC,oBAAoB,EAAC,SAAS;QAC9BC,KAAK,EAAErC,KAAM;QACbsC,YAAY,EAAEjB;MAAS,CACtB;IAAC,CACA,CAAC,EACPzB,IAAA,CAACN,IAAI;MAACwC,KAAK,EAAEC,MAAM,CAACG,SAAU;MAAAD,QAAA,EAC1BrC,IAAA,CAACJ,SAAS;QACVsC,KAAK,EAAEC,MAAM,CAACvC,SAAU;QACxB2C,WAAW,EAAC,WAAW;QACvBC,oBAAoB,EAAC,SAAS;QAC9BG,eAAe,EAAE,IAAK;QACtBF,KAAK,EAAEpC,QAAS;QAChBqC,YAAY,EAAEd;MAAY,CACzB;IAAC,CACA,CAAC,EACP5B,IAAA,CAACH,gBAAgB;MAAAwC,QAAA,EACbrC,IAAA,CAACP,IAAI;QAACyC,KAAK,EAAEC,MAAM,CAACS,aAAc;QAAAP,QAAA,EAAC;MAAgB,CAAM;IAAC,CAC5C,CAAC,EAClBN,YAAY,IAAI/B,IAAA,CAACP,IAAI;MAACyC,KAAK,EAAE;QAAEW,KAAK,EAAE;MAAM,CAAE;MAAAR,QAAA,EAAEN;IAAY,CAAO,CAAC,EACrE/B,IAAA,CAACH,gBAAgB;MAACqC,KAAK,EAAEC,MAAM,CAACW,KAAM;MAACC,OAAO,EAAEd,gBAAiB;MAAAI,QAAA,EAC7DrC,IAAA,CAACP,IAAI;QAACyC,KAAK,EAAEC,MAAM,CAACa,SAAU;QAAAX,QAAA,EAAC;MAAK,CAAM;IAAC,CAC7B,CAAC;EAAA,CACb,CAAC;AAEf;AAEA,IAAMF,MAAM,GAAG3C,UAAU,CAACyD,MAAM,CAAC;EAC7Bb,SAAS,EAAE;IACPc,IAAI,EAAE,CAAC;IACPC,eAAe,EAAE,SAAS;IAC1BC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;EACpB,CAAC;EACDC,SAAS,EAAE;IACPC,YAAY,EAAE;EAClB,CAAC;EACDjB,SAAS,EAAE;IACPa,eAAe,EAAE,OAAO;IACxBK,YAAY,EAAE,EAAE;IAChBC,WAAW,EAAE,SAAS;IACtBC,WAAW,EAAE,CAAC;IACdC,KAAK,EAAE,KAAK;IACZC,MAAM,EAAE,EAAE;IACVL,YAAY,EAAE,EAAE;IAChBH,UAAU,EAAE;EAChB,CAAC;EACDxD,SAAS,EAAE;IACPgE,MAAM,EAAE,EAAE;IACVV,IAAI,EAAE,CAAC;IACPW,OAAO,EAAE,EAAE;IACXC,UAAU,EAAE;EAChB,CAAC;EACDlB,aAAa,EAAE;IACXgB,MAAM,EAAE,EAAE;IACVL,YAAY,EAAE;EAClB,CAAC;EACDT,KAAK,EAAE;IACHa,KAAK,EAAC,KAAK;IACXH,YAAY,EAAE,EAAE;IAChBI,MAAM,EAAE,EAAE;IACVR,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,QAAQ;IACxBU,SAAS,EAAE,EAAE;IACbZ,eAAe,EAAE;EACrB,CAAC;EACDa,SAAS,EAAE;IACPC,QAAQ,EAAE,UAAU;IACpBN,KAAK,EAAE,KAAK;IACZC,MAAM,EAAE,KAAK;IACbT,eAAe,EAAE,wBAAwB;IACzCK,YAAY,EAAE;EAClB;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}