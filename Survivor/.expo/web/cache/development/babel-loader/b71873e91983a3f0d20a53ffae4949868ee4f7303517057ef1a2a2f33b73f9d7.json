{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState, useRef, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport axios from \"axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar PasswordInput = function PasswordInput() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    password = _useState2[0],\n    setPassword = _useState2[1];\n  return _jsxs(View, {\n    style: styless.container,\n    children: [_jsx(TextInput, {\n      style: styles.input,\n      placeholder: \"Mot de passe\",\n      secureTextEntry: true,\n      value: password,\n      onChangeText: setPassword\n    }), _jsx(View, {\n      style: styles.overlay\n    })]\n  });\n};\nvar styless = StyleSheet.create({\n  container: {\n    position: 'relative',\n    width: '100%'\n  },\n  input: {\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    borderRadius: 8,\n    paddingLeft: 10,\n    paddingRight: 40\n  },\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: 40,\n    backgroundColor: 'rgba(0, 0, 0, 0.2)',\n    borderTopRightRadius: 8,\n    borderBottomRightRadius: 8\n  }\n});\nfunction login_request(email, password, _ref) {\n  var setIsSignedIn = _ref.setIsSignedIn,\n    setApiUser = _ref.setApiUser;\n  var url = 'https://masurao.fr/api/employees/login';\n  var headers = {\n    'accept': 'application/json',\n    'X-Group-Authorization': 'AhSyHQjIpPhIvfI5OU8HHe9nyhPKwY-q',\n    'Content-Type': 'application/json'\n  };\n  var data = {\n    email: email,\n    password: password\n  };\n  axios.post(url, data, {\n    headers: headers\n  }).then(function (response) {\n    console.log('Réponse de l\\'API:', response.data);\n    console.log(response.status);\n    if (response.status === 200) {\n      setApiUser(response.data);\n      setIsSignedIn(true);\n    }\n  }).catch(function (error) {\n    console.error('Erreur lors de la requête à l\\'API:', error);\n  });\n}\nexport default function LoginPage(_ref2) {\n  var setIsSignedIn = _ref2.setIsSignedIn,\n    setApiUser = _ref2.setApiUser;\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    email = _useState4[0],\n    setEmail = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    password = _useState6[0],\n    setPassword = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    errorMessage = _useState8[0],\n    setErrorMessage = _useState8[1];\n  var handleLoginPress = function handleLoginPress() {\n    console.log(\"Email:\", email);\n    console.log(\"Password:\", password);\n    login_request(email, password, {\n      setIsSignedIn: setIsSignedIn,\n      setApiUser: setApiUser\n    });\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: styles.rectangle\n    }), _jsx(StatusBar, {\n      style: \"auto\"\n    }), _jsx(View, {\n      style: styles.inputView,\n      children: _jsx(TextInput, {\n        style: styles.TextInput,\n        placeholder: \"Email.\",\n        placeholderTextColor: \"#003f5c\",\n        value: email,\n        onChangeText: setEmail\n      })\n    }), _jsx(PasswordInput, {}), _jsx(TouchableOpacity, {\n      children: _jsx(Text, {\n        style: styles.forgot_button,\n        children: \"Forgot password?\"\n      })\n    }), errorMessage && _jsx(Text, {\n      style: {\n        color: 'red'\n      },\n      children: errorMessage\n    }), _jsx(TouchableOpacity, {\n      style: styles.login,\n      onPress: handleLoginPress,\n      children: _jsx(Text, {\n        style: styles.loginText,\n        children: \"LOGIN\"\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: 'gray',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  loginLogo: {\n    marginBottom: 40\n  },\n  inputView: {\n    backgroundColor: 'rgba(173, 200, 255, 1)',\n    borderRadius: 30,\n    width: \"70%\",\n    height: 45,\n    marginBottom: 20,\n    alignItems: \"center\"\n  },\n  TextInput: {\n    height: 50,\n    flex: 1,\n    padding: 10,\n    marginLeft: 20\n  },\n  forgot_button: {\n    height: 30,\n    marginBottom: 20\n  },\n  login: {\n    width: \"80%\",\n    borderRadius: 25,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 40,\n    backgroundColor: \"#90EE90\"\n  },\n  rectangle: {\n    position: 'absolute',\n    width: \"85%\",\n    height: \"85%\",\n    backgroundColor: 'rgba(211, 211, 211, 1)',\n    borderRadius: 10\n  }\n});","map":{"version":3,"names":["StatusBar","React","useState","useRef","useEffect","StyleSheet","Text","View","Image","TextInput","TouchableOpacity","axios","jsx","_jsx","jsxs","_jsxs","PasswordInput","_useState","_useState2","_slicedToArray","password","setPassword","style","styless","container","children","styles","input","placeholder","secureTextEntry","value","onChangeText","overlay","create","position","width","height","borderColor","borderWidth","borderRadius","paddingLeft","paddingRight","top","right","bottom","backgroundColor","borderTopRightRadius","borderBottomRightRadius","login_request","email","_ref","setIsSignedIn","setApiUser","url","headers","data","post","then","response","console","log","status","catch","error","LoginPage","_ref2","_useState3","_useState4","setEmail","_useState5","_useState6","_useState7","_useState8","errorMessage","setErrorMessage","handleLoginPress","rectangle","inputView","placeholderTextColor","forgot_button","color","login","onPress","loginText","flex","alignItems","justifyContent","loginLogo","marginBottom","padding","marginLeft","marginTop"],"sources":["/home/matthias/Bureau/TEK3/Survivor/Survivor/Pages/LoginPage.js"],"sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport React, { useState, useRef, useEffect } from 'react';\nimport {\n    StyleSheet,\n    Text,\n    View,\n    Image,\n    TextInput,\n    TouchableOpacity,\n} from 'react-native';\nimport axios from \"axios\";\n\nconst PasswordInput = () => {\n    const [password, setPassword] = useState('');\n  \n    return (\n      <View style={styless.container}>\n        <TextInput\n          style={styles.input}\n          placeholder=\"Mot de passe\"\n          secureTextEntry={true}\n          value={password}\n          onChangeText={setPassword}\n        />\n        <View style={styles.overlay} />\n      </View>\n    );\n  };\n  \n  const styless = StyleSheet.create({\n    container: {\n      position: 'relative',\n      width: '100%',\n    },\n    input: {\n      height: 40,\n      borderColor: 'gray',\n      borderWidth: 1,\n      borderRadius: 8,\n      paddingLeft: 10,\n      paddingRight: 40, // Pour laisser de l'espace pour la bulle\n    },\n    overlay: {\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      width: 40, // Largeur de la bulle\n      backgroundColor: 'rgba(0, 0, 0, 0.2)', // Couleur de fond avec un peu de transparence\n      borderTopRightRadius: 8,\n      borderBottomRightRadius: 8,\n    },\n  });\n\nfunction login_request(email, password, { setIsSignedIn, setApiUser })\n{\n    const url = 'https://masurao.fr/api/employees/login';\n    const headers = {\n        'accept': 'application/json',\n        'X-Group-Authorization': 'AhSyHQjIpPhIvfI5OU8HHe9nyhPKwY-q',\n        'Content-Type': 'application/json',\n    };\n    const data = {\n        email: email,\n        password: password,\n    };\n\n    axios.post(url, data, { headers })\n    .then((response) => {\n        console.log('Réponse de l\\'API:', response.data);\n        console.log(response.status);\n        if (response.status === 200) {\n            setApiUser(response.data);\n            setIsSignedIn(true);\n        }\n    })\n    .catch((error) => {\n        console.error('Erreur lors de la requête à l\\'API:', error);\n    });\n}\n\nexport default function LoginPage({ setIsSignedIn, setApiUser })\n{\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [errorMessage, setErrorMessage] = useState(null);\n\n    const handleLoginPress = () => {\n        console.log(\"Email:\", email);\n        console.log(\"Password:\", password);\n        login_request(email, password, {setIsSignedIn, setApiUser});\n        setEmail(\"\");\n        setPassword(\"\");\n    };\n\n    return (\n        <View style={styles.container}>\n        <View style={styles.rectangle}></View>\n\n        <StatusBar style=\"auto\" />\n        <View style={styles.inputView}>\n            <TextInput\n            style={styles.TextInput}\n            placeholder=\"Email.\"\n            placeholderTextColor=\"#003f5c\"\n            value={email}\n            onChangeText={setEmail}\n            />\n        </View>\n        <PasswordInput/>\n        <TouchableOpacity>\n            <Text style={styles.forgot_button}>Forgot password?</Text>\n        </TouchableOpacity>\n        {errorMessage && <Text style={{ color: 'red' }}>{errorMessage}</Text>}\n        <TouchableOpacity style={styles.login} onPress={handleLoginPress}>\n            <Text style={styles.loginText}>LOGIN</Text>\n        </TouchableOpacity>\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: 'gray',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    loginLogo: {\n        marginBottom: 40,\n    },\n    inputView: {\n        backgroundColor: 'rgba(173, 200, 255, 1)',\n        borderRadius: 30,\n        width: \"70%\",\n        height: 45,\n        marginBottom: 20,\n        alignItems: \"center\",\n    },\n    TextInput: {\n        height: 50,\n        flex: 1,\n        padding: 10,\n        marginLeft: 20,\n    },\n    forgot_button: {\n        height: 30,\n        marginBottom: 20,\n    },\n    login: {\n        width:\"80%\",\n        borderRadius: 25,\n        height: 50,\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        marginTop: 40,\n        backgroundColor: \"#90EE90\",\n    },\n    rectangle: {\n        position: 'absolute',\n        width: \"85%\",\n        height: \"85%\",\n        backgroundColor: 'rgba(211, 211, 211, 1)',\n        borderRadius: 10,\n    },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}