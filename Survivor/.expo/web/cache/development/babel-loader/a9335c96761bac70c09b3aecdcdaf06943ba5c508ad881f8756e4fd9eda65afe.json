{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport axios from \"axios\";\nimport React, { useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nfunction Item(_ref) {\n  var item = _ref.item,\n    onPress = _ref.onPress;\n  return _jsxs(_Fragment, {\n    children: [_jsx(Image, {\n      source: {\n        uri: `https://masurao.fr/api/employees/${item.id}/image`,\n        method: 'GET',\n        headers: {\n          accept: 'application/json',\n          'X-Group-Authorization': 'AhSyHQjIpPhIvfI5OU8HHe9nyhPKwY-q',\n          Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NzQsImVtYWlsIjoib2xpdmVyLmxld2lzQG1hc3VyYW8uanAiLCJuYW1lIjoiT2xpdmVyIiwic3VybmFtZSI6Ikxld2lzIiwiZXhwIjoxNjk1NzI2MzMwfQ.kfZoJqTF7H6Wg1egKTyA8W3r-pucZvkmvBAP0v_Fb6k'\n        }\n      },\n      style: {\n        width: 100,\n        height: 100\n      }\n    }), _jsxs(Text, {\n      style: styles.item,\n      children: [\" \", item.name, \" \", item.surname, \" \"]\n    })]\n  });\n}\nvar ids = [];\nexport default function TrombinoscopeScreen(_ref2) {\n  var _this = this;\n  var navigation = _ref2.navigation;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    refreshing = _useState2[0],\n    setRefreshing = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    infos = _useState4[0],\n    setinfos = _useState4[1];\n  var getListEmployeesID = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var url = 'https://masurao.fr/api/employees';\n      var headers = {\n        'accept': 'application/json',\n        'X-Group-Authorization': 'AhSyHQjIpPhIvfI5OU8HHe9nyhPKwY-q',\n        'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NzQsImVtYWlsIjoib2xpdmVyLmxld2lzQG1hc3VyYW8uanAiLCJuYW1lIjoiT2xpdmVyIiwic3VybmFtZSI6Ikxld2lzIiwiZXhwIjoxNjk1NzI2MzMwfQ.kfZoJqTF7H6Wg1egKTyA8W3r-pucZvkmvBAP0v_Fb6k'\n      };\n      try {\n        var response = yield axios.get(url, {\n          headers: headers\n        });\n        setinfos(response.data);\n      } catch (error) {\n        console.log(error.accept);\n        return [];\n      }\n    });\n    return function getListEmployeesID() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleButtonPress = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      _this.ids = yield getListEmployeesID();\n      handleRefresh();\n    });\n    return function handleButtonPress() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  getListEmployeesID();\n  var handleRefresh = function handleRefresh() {\n    setRefreshing(true);\n    console.log(\"refreshing\");\n    setRefreshing(false);\n  };\n  var renderItem = function renderItem(_ref5) {\n    var item = _ref5.item;\n    return _jsx(Item, {\n      item: item,\n      onPress: function onPress() {\n        return console.log(\"pressed\");\n      }\n    });\n  };\n  return _jsxs(View, {\n    style: styles.homePage,\n    children: [_jsx(Button, {\n      title: \"test\",\n      onPress: handleButtonPress\n    }), _jsx(FlatList, {\n      refreshing: true,\n      data: infos,\n      renderItem: renderItem,\n      numColumns: 2,\n      columnWrapperStyle: {\n        justifyContent: 'space-around'\n      },\n      extraData: infos,\n      onRefresh: handleRefresh,\n      ListHeaderComponent: true\n    })]\n  });\n}\nvar styles = {\n  homePage: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  item: {\n    padding: 20,\n    marginVertical: 8,\n    marginHorizontal: 16\n  }\n};","map":{"version":3,"names":["axios","React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Item","_ref","item","onPress","children","Image","source","uri","id","method","headers","accept","Authorization","style","width","height","Text","styles","name","surname","ids","TrombinoscopeScreen","_ref2","_this","navigation","_useState","_useState2","_slicedToArray","refreshing","setRefreshing","_useState3","_useState4","infos","setinfos","getListEmployeesID","_ref3","_asyncToGenerator","url","response","get","data","error","console","log","apply","arguments","handleButtonPress","_ref4","handleRefresh","renderItem","_ref5","View","homePage","Button","title","FlatList","numColumns","columnWrapperStyle","justifyContent","extraData","onRefresh","ListHeaderComponent","flex","alignItems","padding","marginVertical","marginHorizontal"],"sources":["/Users/guylainthomas/delivery/tek3/Survivor/mirror Survivor/Survivor/Survivor/Pages/Trombinoscope.js"],"sourcesContent":["import { View, Text, Button, Image, FlatList} from \"react-native\";\nimport axios from \"axios\";\nimport React, { useState } from 'react';\n\n\nfunction Item({ item, onPress }) {\n    return (\n        <>\n\n        <Image\n            source={{\n                uri: `https://masurao.fr/api/employees/${item.id}/image`,\n                method: 'GET',\n                headers: {\n                    accept: 'application/json',\n                    'X-Group-Authorization': 'AhSyHQjIpPhIvfI5OU8HHe9nyhPKwY-q',\n                    Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NzQsImVtYWlsIjoib2xpdmVyLmxld2lzQG1hc3VyYW8uanAiLCJuYW1lIjoiT2xpdmVyIiwic3VybmFtZSI6Ikxld2lzIiwiZXhwIjoxNjk1NzI2MzMwfQ.kfZoJqTF7H6Wg1egKTyA8W3r-pucZvkmvBAP0v_Fb6k',\n                },\n            }}\n            style={{ width: 100, height: 100 }} />\n    <Text style={styles.item}> {item.name} {item.surname} </Text>\n        </>\n    );\n\n}\n\nconst ids = [];\n\n\nexport default function TrombinoscopeScreen({ navigation }) {\n    const [refreshing, setRefreshing] = useState(false);\n\n    const [infos, setinfos] = useState([]);\n\n    const getListEmployeesID = async () => {\n\n        const url = 'https://masurao.fr/api/employees';\n        const headers = {\n            'accept': 'application/json',\n            'X-Group-Authorization': 'AhSyHQjIpPhIvfI5OU8HHe9nyhPKwY-q',\n            'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NzQsImVtYWlsIjoib2xpdmVyLmxld2lzQG1hc3VyYW8uanAiLCJuYW1lIjoiT2xpdmVyIiwic3VybmFtZSI6Ikxld2lzIiwiZXhwIjoxNjk1NzI2MzMwfQ.kfZoJqTF7H6Wg1egKTyA8W3r-pucZvkmvBAP0v_Fb6k'\n        };\n\n        try {\n            const response = await axios.get(url, { headers });\n            setinfos(response.data);\n        } catch (error) {\n            console.log(error.accept);\n            return [];\n        }\n    };\n\n    const handleButtonPress = async () => {\n        this.ids = await getListEmployeesID();\n        handleRefresh();\n    };\n    getListEmployeesID();\n\n    const handleRefresh = () => {\n        setRefreshing(true);\n        console.log(\"refreshing\");\n        setRefreshing(false);\n    };\n\n    const renderItem = ({ item }) => {\n        return (\n            <Item\n                item={item}\n                onPress={() => console.log(\"pressed\")}\n            />\n        );\n    };\n\n    return (\n\n        <View style={styles.homePage}>\n            <Button\n                title=\"test\"\n                onPress={handleButtonPress}\n            />\n\n            <FlatList\n                refreshing={true}\n                data={infos}\n                renderItem={renderItem}\n                numColumns={2}\n                columnWrapperStyle={{ justifyContent: 'space-around' }}\n                extraData={infos}\n                onRefresh={handleRefresh}\n                ListHeaderComponent\n            />\n\n        </View>\n    )\n}\n\nconst styles = {\n    homePage: {\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    item: {\n        padding: 20,\n        marginVertical: 8,\n        marginHorizontal: 16,\n    },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}